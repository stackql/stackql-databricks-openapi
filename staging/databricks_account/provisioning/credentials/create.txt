POST
/api/2.0/accounts/{account_id}/credentials
Creates a Databricks credential configuration that represents cloud cross-account credentials for a specified account. Databricks uses this to set up network infrastructure properly to host Databricks clusters. For your AWS IAM role, you need to trust the External ID (the Databricks Account API account ID)  in the returned credential object, and configure the required access policy.
Save the response's
code: credentials_id
field, which is the ID for your new credential configuration object.
For information about how to create a new workspace with this API, see
Create a new workspace using the Account API
Path parameters
code: account_id
required
uuid
Databricks account ID of any type. For non-E2 account types, get your account ID from the
Accounts Console
.
Request body
Properties of the new credential configuration.
code: credentials_name
required
string
[ 4 .. 256 ] characters
Example
code: "credential_1"
The human-readable name of the credential configuration object.
code: aws_credentials
required
object
code: sts_role
object
Responses
201
The credential configuration creation request succeeded.
The credential configuration creation request succeeded.
code: credentials_id
uuid
Databricks credential configuration ID.
code: credentials_name
string
[ 4 .. 256 ] characters
The human-readable name of the credential configuration object.
code: aws_credentials
object
code: sts_role
object
code: account_id
uuid
The Databricks account ID that hosts the credential.
code: creation_time
int64
Time in epoch milliseconds when the credential was created.
This method might return the following HTTP codes: 400, 401, 404, 500
Error responses are returned in the following format:
{
"error_code"
:
"Error code"
,
"message"
:
"Human-readable error message."
}
Possible error codes:
HTTP code
error_code
Description
400
BAD_REQUEST
Request is invalid.
401
UNAUTHORIZED
The request does not have valid authentication credentials for the operation.
404
NOT_FOUND
Operation was performed on a resource that does not exist.
500
INTERNAL_SERVER_ERROR
Internal error.