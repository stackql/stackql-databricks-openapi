GET
/api/2.0/accounts/{account_id}/customer-managed-keys
Gets all customer-managed key configuration objects for an account.
If the key is specified as a workspace's managed services customer-managed key,
Databricks uses the key to encrypt the workspace's notebooks and secrets in the
control plane, in addition to Databricks SQL queries and query history.
If the key is specified as a workspace's storage customer-managed key,
the key is used to encrypt the workspace's root S3 bucket and optionally can encrypt
cluster EBS volumes data in the data plane.
Important
: Customer-managed keys are supported only for some deployment types,
subscription types, and AWS regions.
This operation is available only if your account is on the E2 version of the platform.
Path parameters
code: account_id
required
uuid
Databricks account ID of any type. For non-E2 account types, get your account ID from the
Accounts Console
.
Responses
200
The encryption key configurations were successfully returned.
The encryption key configurations were successfully returned.
Array [
code: customer_managed_key_id
uuid
ID of the encryption key configuration object.
code: account_id
uuid
The Databricks account ID that holds the customer-managed key.
code: aws_key_info
object
code: creation_time
int64
Time in epoch milliseconds when the customer key was created.
code: use_cases
Array of string
Example
The cases that the key can be used for.
]
This method might return the following HTTP codes: 401, 404, 500
Error responses are returned in the following format:
{
"error_code"
:
"Error code"
,
"message"
:
"Human-readable error message."
}
Possible error codes:
HTTP code
error_code
Description
401
UNAUTHORIZED
The request does not have valid authentication credentials for the operation.
404
NOT_FOUND
Operation was performed on a resource that does not exist.
500
INTERNAL_SERVER_ERROR
Internal error.