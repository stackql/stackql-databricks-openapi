POST
/api/2.0/accounts/{account_id}/metastores
Creates a Unity Catalog metastore.
Path parameters
code: account_id
required
uuid
Databricks account ID of any type. For non-E2 account types, get your account ID from the
Accounts Console
.
Request body
Properties of the new metastore.
code: metastore_info
object
code: name
required
string
The user-specified name of the metastore.
code: storage_root
string
The storage root URL for metastore
code: region
string
Cloud region which the metastore serves (e.g.,
code: us-west-2
,
code: westus
).
The field can be omitted in the
workspace-level
API
but not in the
account-level
API
. If this field is omitted, the region of the workspace receiving the request will be used.
Responses
201
The metastore was successfully created.
The metastore was successfully created.
code: metastore_info
object
code: name
string
The user-specified name of the metastore.
code: storage_root
string
The storage root URL for metastore
code: default_data_access_config_id
string
Deprecated
Unique identifier of the metastore's (Default) Data Access Configuration.
code: storage_root_credential_id
string
UUID of storage credential to access the metastore storage_root.
code: delta_sharing_scope
string
Enum:
code: INTERNAL | INTERNAL_AND_EXTERNAL
The scope of Delta Sharing enabled for the metastore.
code: delta_sharing_recipient_token_lifetime_in_seconds
int64
The lifetime of delta sharing recipient token in seconds.
code: delta_sharing_organization_name
string
The organization name of a Delta Sharing entity, to be used in Databricks-to-Databricks Delta Sharing as the official name.
code: owner
string
The owner of the metastore.
code: privilege_model_version
string
Privilege model version of the metastore, of the form
code: major.minor
(e.g.,
code: 1.0
).
code: region
string
Cloud region which the metastore serves (e.g.,
code: us-west-2
,
code: westus
).
code: metastore_id
string
Unique identifier of metastore.
code: created_at
int64
Time at which this metastore was created, in epoch milliseconds.
code: created_by
string
Username of metastore creator.
code: updated_at
int64
Time at which the metastore was last modified, in epoch milliseconds.
code: updated_by
string
Username of user who last modified the metastore.
code: storage_root_credential_name
string
Name of the storage credential to access the metastore storage_root.
code: cloud
string
Cloud vendor of the metastore home shard (e.g.,
code: aws
,
code: azure
,
code: gcp
).
code: global_metastore_id
string
Globally unique metastore ID across clouds and regions, of the form
code: cloud:region:metastore_id
.
code: external_access_enabled
boolean
Whether to allow non-DBR clients to directly access entities under the metastore.
This method might return the following HTTP codes: 400, 401, 500
Error responses are returned in the following format:
{
"error_code"
:
"Error code"
,
"message"
:
"Human-readable error message."
}
Possible error codes:
HTTP code
error_code
Description
400
BAD_REQUEST
Request is invalid.
401
UNAUTHORIZED
The request does not have valid authentication credentials for the operation.
500
INTERNAL_SERVER_ERROR
Internal error.